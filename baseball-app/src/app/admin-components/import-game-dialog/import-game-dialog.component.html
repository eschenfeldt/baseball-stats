<h2 mat-dialog-title>
    Import Game from iScore Baseball
</h2>
<mat-dialog-content>
    <p>
        Upload files emailed from iScore Baseball and enter the following details:
    </p>
    <div class="details">
        <mat-form-field>
            <ul *ngIf="filesUploaded">
                <li *ngFor="let fileName of fileNames">
                    {{fileName}}
                </li>
            </ul>
            <span *ngIf="!filesUploaded"></span>
            <input type="file" class="file-input" (change)="onFileSelected($event)" #zipFileUpload multiple>
            <input matInput>
            <button mat-button (click)="zipFileUpload.click()">Upload</button>
        </mat-form-field>
        <form [formGroup]="metadata">
            <mat-form-field>
                <mat-label>Away Team</mat-label>
                <mat-select formControlName="away">
                    @for (team of teams; track team.id) {
                    <mat-option [value]="team">{{team.city}} {{team.name}}</mat-option>
                    }
                </mat-select>
            </mat-form-field>
            <mat-form-field>
                <mat-label>Home Team</mat-label>
                <mat-select formControlName="home">
                    @for (team of teams; track team.id) {
                    <mat-option [value]="team">{{team.city}} {{team.name}}</mat-option>
                    }
                </mat-select>
            </mat-form-field>
            <mat-form-field>
                <mat-label>Scheduled Start</mat-label>
                <mtx-datetimepicker #scheduledPicker type="datetime" timeInput="true">
                </mtx-datetimepicker>
                <input [mtxDatetimepicker]="scheduledPicker" formControlName="scheduledStart"
                    (dateChange)="dateChangePatch('scheduledStart', $event)" matInput>
                <mtx-datetimepicker-toggle [for]="scheduledPicker" matSuffix></mtx-datetimepicker-toggle>
            </mat-form-field>
            <mat-form-field>
                <mat-label>Actual Start</mat-label>
                <mtx-datetimepicker #startPicker type="datetime" timeInput="true">
                </mtx-datetimepicker>
                <input [mtxDatetimepicker]="startPicker" formControlName="actualStart"
                    (dateChange)="dateChangePatch('actualStart', $event)" matInput>
                <mtx-datetimepicker-toggle [for]="startPicker" matSuffix></mtx-datetimepicker-toggle>
            </mat-form-field>
            <mat-form-field>
                <mat-label>End</mat-label>
                <mtx-datetimepicker #endPicker type="datetime" timeInput="true">
                </mtx-datetimepicker>
                <input [mtxDatetimepicker]="endPicker" formControlName="end"
                    (dateChange)="dateChangePatch('end', $event)" matInput>
                <mtx-datetimepicker-toggle [for]="endPicker" matSuffix></mtx-datetimepicker-toggle>
            </mat-form-field>
        </form>
    </div>
</mat-dialog-content>
<mat-dialog-actions>
    <button mat-button [disabled]="!filesUploaded" (click)="import()">Import</button>
    <button mat-button mat-dialog-close>Close</button>
</mat-dialog-actions>