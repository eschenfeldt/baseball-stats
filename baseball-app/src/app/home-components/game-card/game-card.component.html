<mat-card class="game-card">
    <mat-card-header class="game-header">
        <mat-card-title><a [routerLink]="['/game', game.id]">{{game.name}}</a></mat-card-title>
        @if (purpose) {
        <button type="button" mat-mini-fab [matTooltip]="purpose" #tooltip="matTooltip" (click)="tooltip.toggle()">
            <mat-icon fontIcon="info_outline"></mat-icon>
        </button>
        }
    </mat-card-header>
    @if (image$ | async; as image) {
    <app-thumbnail [file]="image" [queryParams]="mediaParams"></app-thumbnail>
    }
    <mat-card-content>
        <div class="game-teams">
            <mat-card appearance="raised">
                <mat-card-header>
                    <mat-card-title>
                        <a [routerLink]="['/team', game.away.id]">
                            {{game.away.name}}
                        </a>
                    </mat-card-title>
                </mat-card-header>
                <mat-card-content>
                    <div class="game-score-container">
                        <div class="game-score" [style.background-color]="color(game.away)">
                            {{game.awayScore}}
                        </div>
                    </div>
                </mat-card-content>
            </mat-card>
            <mat-card appearance="raised">
                <mat-card-header>
                    <mat-card-title>
                        <a [routerLink]="['/team', game.home.id]">
                            {{game.home.name}}
                        </a>
                    </mat-card-title>
                </mat-card-header>
                <mat-card-content>
                    <div class="game-score-container">
                        <div class="game-score" [style.background-color]="color(game.home)">
                            {{game.homeScore}}
                        </div>
                    </div>
                </mat-card-content>
            </mat-card>
        </div>
        <div class="game-details">
            <div class="game-details">
                @if (game.location != null) {
                <dl>
                    <dt>Location</dt>
                    <dd>
                        <a [routerLink]="['/park', game.location.id]">
                            {{game.location.name}}
                        </a>
                    </dd>
                </dl>
                <mat-divider></mat-divider>
                }
                <dl>
                    <dt>Win</dt>
                    <dd>
                        <a [routerLink]="['/player', game.winningPitcher?.id]" routerLinkActive="router-link-active">
                            {{game.winningPitcher?.name}}
                        </a>
                    </dd>
                    <dt>Loss</dt>
                    <dd>
                        <a [routerLink]="['/player', game.losingPitcher?.id]" routerLinkActive="router-link-active">
                            {{game.losingPitcher?.name}}
                        </a>
                    </dd>
                    @if (game.savingPitcher != null) {
                    <dt>Save</dt>
                    <dd>
                        <a [routerLink]="['/player', game.savingPitcher.id]" routerLinkActive="router-link-active">
                            {{game.savingPitcher.name}}
                        </a>
                    </dd>
                    }
                </dl>
                <mat-divider></mat-divider>
                <dl>
                    <dt>Scheduled</dt>
                    <dd>{{formatTime(game.scheduledTime)}}</dd>
                    <dt>Started</dt>
                    <dd>{{formatTime(game.startTime)}}</dd>
                    <dt>Ended</dt>
                    <dd>{{formatTime(game.endTime)}}</dd>
                </dl>
            </div>
        </div>
    </mat-card-content>
</mat-card>